# Hyperliquid API æµ‹è¯•ç»“æœ

## æµ‹è¯•æ—¶é—´
2026-02-03

## æµ‹è¯•ç›®çš„
éªŒè¯ `clearinghouseState` æ¥å£æ˜¯å¦åŒ…å«å…¥é‡‘/å‡ºé‡‘ç­‰é¢å¤–æ•°æ®ï¼Œä»¥å†³å®š `net_deposit` é‡æ„æ–¹æ¡ˆã€‚

## æµ‹è¯•æ–¹æ³•
å¯¹æ¯”ä¸¤ä¸ªæ¥å£çš„è¿”å›æ•°æ®ï¼š
1. **info.user_state()** - å½“å‰ä»£ç ä½¿ç”¨çš„æ¥å£
2. **clearinghouseState** - ç”¨æˆ·å»ºè®®æµ‹è¯•çš„æ¥å£

## æµ‹è¯•ç»“æœ

### æ•°æ®ç»“æ„å¯¹æ¯”

âœ… **ä¸¤ä¸ªæ¥å£è¿”å›å®Œå…¨ç›¸åŒçš„æ•°æ®ç»“æ„**

```json
{
  "marginSummary": {
    "accountValue": "0.0",
    "totalNtlPos": "0.0",
    "totalRawUsd": "0.0",
    "totalMarginUsed": "0.0"
  },
  "crossMarginSummary": {
    "accountValue": "0.0",
    "totalNtlPos": "0.0",
    "totalRawUsd": "0.0",
    "totalMarginUsed": "0.0"
  },
  "crossMaintenanceMarginUsed": "0.0",
  "withdrawable": "0.0",
  "assetPositions": [],
  "time": 1770086972328
}
```

### å…³é”®å‘ç°

#### âŒ ä¸åŒ…å«çš„æ•°æ®
- **å…¥é‡‘è®°å½•** (deposits)
- **å‡ºé‡‘è®°å½•** (withdrawals)
- **è½¬è´¦å†å²** (transfers)
- **å‡€æŠ•å…¥å­—æ®µ** (netDeposit)
- **è´¦æˆ·æƒç›Šå†å²** (equity history)

#### âœ… åŒ…å«çš„æ•°æ®
- **è´¦æˆ·ä»·å€¼** (accountValue) - å½“å‰å¿«ç…§
- **ä¿è¯é‡‘ä½¿ç”¨** (totalMarginUsed)
- **èµ„äº§æŒä»“** (assetPositions)
- **å¯æç°é‡‘é¢** (withdrawable)

## ç»“è®º

### 1. API æ¥å£ç°çŠ¶
ä¸¤ä¸ªæ¥å£åŠŸèƒ½å®Œå…¨ç›¸åŒï¼Œéƒ½åªæä¾›**å½“å‰è´¦æˆ·çŠ¶æ€å¿«ç…§**ï¼Œä¸åŒ…å«**å†å²å…¥é‡‘/å‡ºé‡‘è®°å½•**ã€‚

### 2. å¯¹é‡æ„æ–¹æ¡ˆçš„å½±å“
**æ— æ³•ä» Hyperliquid API è·å–çœŸå®çš„å…¥é‡‘/å‡ºé‡‘æ•°æ®**

å› æ­¤ï¼š
- âœ… **ç¡®è®¤é‡‡ç”¨æ–¹æ¡ˆBï¼šå®Œå…¨ç§»é™¤ `net_deposit` å†—ä½™è®¾è®¡**
- âŒ ä¸é‡‡ç”¨æ–¹æ¡ˆAï¼ˆä¿ç•™æ‰©å±•æ€§ï¼‰ï¼Œå› ä¸ºæœªæ¥ä¹Ÿæ— æ³•è·å–çœŸå®å…¥é‡‘æ•°æ®
- ğŸ“Š **ç›´æ¥ä½¿ç”¨ `total_pnl = realized_pnl`ï¼ˆæ‰€æœ‰äº¤æ˜“çš„ closedPnl ä¹‹å’Œï¼‰**

### 3. æŠ€æœ¯å†³ç­–
- **ä¸éœ€è¦åˆ‡æ¢åˆ° clearinghouseState æ¥å£**ï¼ˆä¸ user_state å®Œå…¨ç›¸åŒï¼‰
- **ç»§ç»­ä½¿ç”¨å½“å‰çš„ user_state æ¥å£**
- **æ‰§è¡Œæ–¹æ¡ˆBçš„9ä¸ªé‡æ„æ­¥éª¤**

## éªŒè¯æµ‹è¯•è„šæœ¬
- `test_clearinghouse_api.py` - æµ‹è¯• clearinghouseState æ¥å£
- `test_api_comparison.py` - å¯¹æ¯”ä¸¤ä¸ªæ¥å£çš„è¿”å›æ•°æ®

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨
æ‰§è¡Œæ–¹æ¡ˆBé‡æ„ï¼Œç§»é™¤ `net_deposit` ç›¸å…³çš„æ‰€æœ‰å†—ä½™ä»£ç ã€‚
